{"map":"{\"version\":3,\"sources\":[\"/Users/anna_gavrilova/my-chat/src/services/auth.service.js\",\"/Users/anna_gavrilova/my-chat/src/components/login/Login.js\",\"/Users/anna_gavrilova/my-chat/src/components/home/ChatList.js\",\"/Users/anna_gavrilova/my-chat/src/components/home/ChatWindow.js\",\"/Users/anna_gavrilova/my-chat/src/components/home/Home.js\",\"/Users/anna_gavrilova/my-chat/src/components/search/Search.js\",\"/Users/anna_gavrilova/my-chat/src/services/user.service.js\",\"/Users/anna_gavrilova/my-chat/src/services/conv.service.js\",\"/Users/anna_gavrilova/my-chat/src/components/admin/CustomTable.js\",\"/Users/anna_gavrilova/my-chat/src/components/admin/Admin.js\",\"/Users/anna_gavrilova/my-chat/src/components/App.js\",\"/Users/anna_gavrilova/my-chat/src/serviceWorker.js\",\"/Users/anna_gavrilova/my-chat/src/index.js\"],\"names\":[\"Auth\",\"require\",\"Object\",\"classCallCheck\",\"this\",\"createClass\",\"key\",\"value\",\"body\",\"axios\",\"post\",\"Login\",\"props\",\"_this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"uname\",\"pass\",\"auth\",\"event\",\"that\",\"email\",\"password\",\"login\",\"then\",\"resp\",\"data\",\"success\",\"console\",\"log\",\"docs\",\"localStorage\",\"setItem\",\"JSON\",\"stringify\",\"_this2\",\"react_default\",\"a\",\"createElement\",\"className\",\"type\",\"required\",\"onChange\",\"setState\",\"target\",\"onClick\",\"loginClick\",\"Component\",\"ChatList\",\"handleclick\",\"e\",\"chat\",\"selectChat\",\"id\",\"renderedChats\",\"renderChats\",\"chats\",\"selectedChat\",\"UserService\",\"getChats\",\"subscribeRooms\",\"_\",\"selected\",\"_this3\",\"map\",\"ListItem_default\",\"button\",\"ListItemText_default\",\"primary\",\"name\",\"List_default\",\"component\",\"sendClick\",\"ConvService\",\"sendMessage\",\"newMessage\",\"response\",\"socket\",\"emit\",\"room\",\"sender\",\"user\",\"typing\",\"keyDown\",\"keyCode\",\"chatHistory\",\"newmessages\",\"newmessagetrigger\",\"isTyping\",\"renderHistory\",\"bind\",\"assertThisInitialized\",\"on\",\"setTimeout\",\"messages\",\"slice\",\"message\",\"_id\",\"text\",\"length\",\"onKeyDown\",\"Home\",\"getMessages\",\"disconnected\",\"connect\",\"messageData\",\"chatSelected\",\"retrieveMessages\",\"rooms\",\"pluck\",\"forEach\",\"isChatSelected\",\"Grid_default\",\"item\",\"xs\",\"sm\",\"ChatWindow\",\"container\",\"spacing\",\"home_ChatList\",\"Search\",\"search\",\"findUsers\",\"searchResults\",\"generate\",\"results\",\"startChat\",\"res\",\"Row\",\"Col\",\"Button\",\"color\",\"startConversation\",\"fa\",\"Container\",\"setUser\",\"getAllUsers\",\"get\",\"pattern\",\"getItem\",\"parse\",\"defaults\",\"headers\",\"common\",\"openConversation\",\"selectConversation\",\"conv\",\"msg\",\"dialog\",\"startWith\",\"loggeduser\",\"startWithId\",\"getlog\",\"gethistory\",\"getroomhistory\",\"getallrooms\",\"desc\",\"b\",\"orderBy\",\"makeRows\",\"keys\",\"numeric\",\"disablePadding\",\"label\",\"toUpperCase\",\"unshift\",\"EnhancedTableHead\",\"createSortHandler\",\"property\",\"onRequestSort\",\"_this$props\",\"order\",\"rows\",\"numSelected\",\"rowCount\",\"TableHead_default\",\"TableRow_default\",\"row\",\"TableCell_default\",\"align\",\"padding\",\"sortDirection\",\"Tooltip_default\",\"title\",\"placement\",\"enterDelay\",\"TableSortLabel_default\",\"active\",\"direction\",\"React\",\"EnhancedTableToolbar\",\"classes\",\"Toolbar_default\",\"classNames\",\"root\",\"defineProperty\",\"highlight\",\"Typography_default\",\"variant\",\"spacer\",\"actions\",\"IconButton_default\",\"aria-label\",\"FilterList_default\",\"withStyles\",\"theme\",\"paddingRight\",\"unit\",\"palette\",\"secondary\",\"main\",\"backgroundColor\",\"lighten\",\"light\",\"dark\",\"flex\",\"EnhancedTable\",\"page\",\"rowsPerPage\",\"handleRequestSort\",\"handleChangePage\",\"handleChangeRowsPerPage\",\"isSelected\",\"indexOf\",\"renderRow\",\"n\",\"hover\",\"role\",\"aria-checked\",\"tabIndex\",\"scope\",\"time\",\"lastMessage\",\"_this4\",\"_this$state\",\"emptyRows\",\"Math\",\"min\",\"Paper_default\",\"tableWrapper\",\"Table_default\",\"table\",\"aria-labelledby\",\"CustomTable_EnhancedTableHead\",\"without\",\"TableBody_default\",\"array\",\"cmp\",\"stabilizedThis\",\"el\",\"index\",\"sort\",\"stableSort\",\"getSorting\",\"style\",\"height\",\"colSpan\",\"TablePagination_default\",\"rowsPerPageOptions\",\"count\",\"backIconButtonProps\",\"nextIconButtonProps\",\"onChangePage\",\"onChangeRowsPerPage\",\"width\",\"marginTop\",\"minWidth\",\"overflowX\",\"_conv\",\"Admin\",\"logresult\",\"isloading\",\"historyresult\",\"roomsresult\",\"CustomTable\",\"tables\",\"_user\",\"io\",\"App\",\"homeTemp\",\"components_home_Home\",\"loginEl\",\"api\",\"admin_Admin\",\"roomapi\",\"apiresult\",\"getallhistory\",\"components_search_Search\",\"handleLogoutClick\",\"random\",\"close\",\"logout\",\"removeItem\",\"window\",\"addEventListener\",\"login_Login\",\"Link\",\"to\",\"Button_default\",\"BrowserRouter\",\"Switch\",\"Route\",\"exact\",\"path\",\"render\",\"Redirect\",\"from\",\"Boolean\",\"location\",\"hostname\",\"match\",\"ReactDOM\",\"App_App\",\"document\",\"getElementById\",\"navigator\",\"serviceWorker\",\"ready\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"import {axios} from '../components/App';\\nconst http=require('http');\\n\\n\\nexport class Auth{\\n    constructor(){}\\n    login(body){\\n        return axios.post(\\\"http://127.0.0.1:3030/api/login\\\",body)\\n    }\\n\\n}\\n\",\"import React, { Component } from 'react'\\nimport {Auth} from '../../services/auth.service';\\nimport {_user as UserService} from '../App'\\nimport {axios} from '../App';\\n \\nclass Login extends Component {\\n\\n    constructor(props){\\n        super(props);\\n        this.state={\\n            uname:\\\"\\\",\\n            pass:\\\"\\\"\\n        }\\n        this.auth=new Auth();\\n    }\\n    componentDidMount() {\\n\\n    }\\n\\n    loginClick(event){\\n        var that=this;\\n        var body={\\n            email:this.state.uname,\\n            password:this.state.pass\\n        }\\n        this.auth.login(body)\\n            .then((resp)=>{\\n                if(resp.data.success){\\n                    console.log(resp.data.docs)\\n                    localStorage.setItem(\\\"loggedUser\\\",JSON.stringify(resp.data.docs));\\n                    that.props.login(resp.data.docs);\\n                    console.log(\\\"User logged in\\\")\\n\\n                }\\n                else{\\n                    console.log(\\\"Credentials error\\\");\\n                }\\n            })\\n        \\n    }\\n\\n    render() {\\n        return (\\n            <div className=\\\"Login\\\">\\n            <header className=\\\"Login-header\\\">\\n              \\n             \\n                  Email:\\n                  <input type=\\\"email\\\" required onChange={(event) => this.setState({uname:event.target.value})}></input><br/>\\n                  Password:\\n                  <input type=\\\"password\\\" required onChange={(event)=>this.setState({pass:event.target.value})}></input><br/>\\n                  <button onClick={(event) => this.loginClick(event)}>Submit</button>\\n             \\n            </header>\\n          </div>\\n        )\\n    }\\n}\\n \\nexport default Login \",\"import React, { Component } from 'react'\\nimport {_user as UserService} from '../App'\\nimport List from '@material-ui/core/List';\\nimport ListItem from '@material-ui/core/ListItem';\\nimport ListItemText from '@material-ui/core/ListItemText';\\n\\n\\n\\n\\n\\nclass ChatList extends Component{\\n\\n    constructor(props){\\n        super(props);\\n        this.state={\\n            chats:null,\\n            renderedChats:[],\\n            selectedChat:this.props.selectedChat\\n        };\\n\\n    }\\n\\n\\n\\n\\n    \\n    componentWillMount(){\\n        UserService.getChats()\\n        .then(resp=>{\\n            this.setState({chats:resp.data.docs})\\n            this.props.subscribeRooms(resp.data.docs)\\n        }).then(_=>{\\n            this.setState({renderedChats:this.renderChats()})\\n        })\\n\\n    }\\n\\n    handleclick=(e,chat)=>{\\n        \\n        this.props.selectChat(chat.id);\\n        this.setState({renderedChats:this.renderChats(chat.id)})\\n       \\n        \\n    }\\n\\n\\n    renderChats(selected){\\n        var chats=[];\\n        chats= this.state.chats.map((chat)=>{\\n            console.log(this.props.selectedChat)\\n            return   <div  key={chat.id} chat={chat.id} className={selected==chat.id?'selected':'not-selected'} onClick={(e)=>this.handleclick(e,chat)}>\\n            <ListItem  button>\\n                <ListItemText primary={chat.name}/>\\n            </ListItem>\\n            </div>\\n        })\\n        console.log(chats)\\n        return chats\\n    }\\n\\n    render(){\\n        return(\\n            <div className='chatList'>\\n                <List component=\\\"nav\\\">\\n                    {this.state.renderedChats}\\n                </List>\\n            </div>\\n        )\\n\\n    }\\n}\\n\\nexport default ChatList;\",\"import React, { Component } from 'react'\\nimport {socket} from '../App'\\nimport io from \\\"socket.io-client\\\"\\nimport './Home.css'\\nimport {_conv as ConvService} from '../App';\\n\\n\\nclass ChatList extends Component{\\n\\n    constructor(props){\\n        super(props);\\n        this.state={\\n            newMessage:'',\\n            chatHistory:this.props.chatHistory,\\n            newmessages:[],\\n            newmessagetrigger:true,\\n            isTyping:false\\n        }\\n        \\n        this.renderHistory=this.renderHistory.bind(this)\\n      \\n        socket.on('typing',data=>{\\n            if(data.sender.id!==this.props.user.id){\\n                this.setState({isTyping:true})\\n                setTimeout(()=>{\\n                    this.setState({isTyping:false})\\n                },8000)\\n            }\\n\\n        })\\n\\n\\n    }\\n\\n    componentDidMount(){\\n       \\n    }\\n\\n    componentWillMount(){\\n    }\\n\\n    enterRoom(){\\n\\n    }\\n\\n\\n    renderHistory(){\\n        var messages=[];\\n       if(this.props.chatHistory){\\n            messages=this.props.chatHistory.slice().map(message=>{\\n                return <div className={message.sender?(message.sender.id==this.props.user.id?'myMessage':'theirMessage'):''} key={message._id}>{message.sender?message.sender.name:'anonymous'}:{message.text}</div>\\n            });\\n       }\\n       return messages.length?messages:<div className=\\\"empty\\\">This chat is empty</div>;\\n    }\\n\\n\\n    sendClick=(e)=>{\\n        \\n        ConvService.sendMessage(this.state.newMessage,this.props.selectedChat)\\n            .then(response=>{\\n                this.setState({\\n                    newMessage:''\\n                });\\n            })\\n            .then(_=>{\\n                socket.emit('message',{room:this.props.selectedChat,sender:this.props.user})\\n            })\\n     }\\n\\n     typing=(event)=>{\\n        this.setState({newMessage:event.target.value})\\n        socket.emit('typing',{room:this.props.selectedChat,sender:this.props.user})\\n        \\n     }\\n\\n     keyDown=(e)=>{\\n        if (e.keyCode == 13 ) {\\n            this.sendClick(e)\\n        }\\n     }\\n\\n    \\n\\n    render(){\\n        \\n        return(\\n            <div className=\\\"chatWindow wrap\\\">\\n                <ul className=\\\"messageHistory\\\">\\n                room is {this.props.selectedChat}\\n                    <div>\\n                        {this.renderHistory()}\\n                    </div>\\n\\n                </ul>\\n                <div className=\\\"userTyping\\\">{this.state.isTyping?\\\"typing\\\":''}</div>\\n                <div className=\\\"inputBox\\\">\\n                    <input type=\\\"text\\\" value={this.state.newMessage} onChange={(event) => this.typing(event)} onKeyDown={this.keyDown}></input>\\n                    <button type='submit' onClick={(event) => this.sendClick(event)}>Send!</button>\\n                </div>\\n                \\n            </div>\\n        )\\n\\n    }\\n}\\n\\nexport default ChatList;\",\"import React, { Component } from 'react'\\nimport Grid from '@material-ui/core/Grid';\\nimport ChatList from './ChatList'\\nimport ChatWindow from './ChatWindow'\\nimport './Home.css';\\nimport {_conv as ConvService} from '../App'\\nimport {socket} from '../App'\\nimport openSocket from \\\"socket.io-client\\\"\\nconst _=require('underscore')\\n\\nclass Home extends Component{\\n\\n    constructor(props){\\n        super(props);\\n        this.state={\\n            user:this.props.user,\\n            selectedChat:null,\\n            chatHistory:null,\\n            newmessages:null,\\n            newmessagetrigger:true\\n        }\\n\\n\\n\\n        this.selectChat=this.selectChat.bind(this)\\n        this.subscribeRooms=this.subscribeRooms.bind(this)\\n        this.getMessages=this.getMessages.bind(this)\\n\\n       console.log(socket)\\n       if(socket.disconnected){\\n           socket.connect()\\n       }\\n       console.log(socket.disconnected)\\n        socket.on('message',messageData=>{\\n            if(this.state.selectedChat==messageData.room){\\n                this.getMessages(messageData.room)\\n            }\\n        \\n        })\\n    }\\n\\n    \\n\\n \\n\\n    componentDidMount(){\\n        if(this.props.chatSelected){\\n            this.selectChat(this.props.chatSelected)\\n        }\\n    }\\n    selectChat(id){\\n        \\n        this.setState({\\n            selectedChat:id\\n        })\\n\\n        this.getMessages(id)\\n    }\\n\\n    getMessages(id){\\n        ConvService.retrieveMessages(id)\\n        .then(messages=>{\\n            this.setState({\\n                chatHistory:messages.data.docs\\n            })\\n        })\\n    }\\n\\n    subscribeRooms(rooms){\\n        _.pluck(rooms,\\\"id\\\").forEach(room=>{\\n            socket.emit('goOnline',{sender:this.state.user.id,room:room})\\n        })\\n\\n        this.setState({rooms:rooms})\\n    }\\n\\n\\n\\n\\n    render(){\\n\\n        var isChatSelected=this.state.selectedChat?\\n        <Grid item xs={12} sm={9} className='wrap'><ChatWindow selectedChat={this.state.selectedChat} chatHistory={this.state.chatHistory} className='chatList' user={this.props.user} newmessages={this.state.newmessages}/></Grid>:\\n        (this.state.rooms&&this.state.rooms.length?<div className=\\\"noInfo\\\">Select chat from the left </div>:\\n                        <div className=\\\"noInfo\\\"> You don't have any chats. Find a friend!</div>)\\n        return(\\n            <div className=\\\"homeWrapper\\\">\\n                 <Grid container spacing={0} className='wrap'>\\n                    <Grid item xs={12} sm={3} className='chatList'><ChatList  selectChat={this.selectChat} selectedChat={this.state.selectedChat} subscribeRooms={this.subscribeRooms}/></Grid>\\n                    {isChatSelected}\\n                    \\n                </Grid>\\n            </div>\\n        );\\n    }\\n}\\n\\nexport default Home;\",\"import React, { Component } from 'react'\\nimport ChatList from '../home/ChatList'\\nimport ChatWindow from '../home/ChatWindow'\\nimport '../home/Home';\\nimport './Search.css'\\nimport { Button } from 'reactstrap';\\nimport {_user as UserService} from '../App'\\nimport {_conv as ConvService} from '../App'\\nimport {socket} from '../App'\\nimport { Container, Row, Col } from 'reactstrap';\\nimport {BrowserRouter,Link,Route,Redirect,Switch} from 'react-router-dom';\\nimport { FaComment } from 'react-icons/fa';\\nconst _=require('underscore')\\n\\nclass Search extends Component{\\n\\n    constructor(props){\\n        super(props);\\n        this.state={\\n            searchResults:null\\n        }\\n        this.results=null;\\n    }\\n\\n    startConversation(id){\\n        //TODO:\\n        //check if the conversation already exists\\n        //if not, create a new record for the chat\\n        ConvService.startChat(UserService.user,id)\\n                .then(res=>{\\n                    if(res.data.success){\\n                        socket.emit('newChat',{name:res.data.docs.name,sender:UserService.user})\\n                    }\\n                })\\n        //redirect to home page with all the parameters selected for that chat\\n        //eg selected chat, chat history, all that\\n    }\\n\\n    search=(e)=>{\\n        \\n        UserService.findUsers(e.target.value)\\n            .then(response=>{\\n                if(response.data.docs.length!==0 && e){\\n                    \\n                    this.setState({\\n                        searchResults:<div>{this.generate(response.data.docs)}</div>\\n                    })\\n                }\\n                else this.setState({\\n                    searchResults:(<div className=\\\"notFound\\\">No Users Found :(</div>)\\n                })\\n            })\\n    }\\n\\n    generate(data){\\n        return _.map(data,(user,key)=>{\\n            return (\\n            <Row key={key}>\\n                 <Col>\\n                {user.name}\\n                </Col>\\n                <Col>\\n                <Button color=\\\"secondary\\\" onClick={()=>this.startConversation(user.id)}><FaComment></FaComment></Button>\\n                </Col>\\n            </Row>)\\n        })\\n    }\\n\\n\\n    render(){\\n\\n\\n\\n\\n        return (<div className=\\\"searchWrap\\\">\\n            \\n            <input type=\\\"text\\\" onChange={(event)=>{if(event.target.value!=='') this.search(event)}}></input>\\n            <div className=\\\"searchResults\\\">\\n            <Container>\\n                {this.state.searchResults}\\n            </Container>\\n            </div>\\n\\n\\n\\n        </div>)\\n    }\\n}\\n\\nexport default Search\\n\\n\",\"import User from '../models/user'\\nimport {axios} from '../components/App'\\n\\nclass UserService {\\n\\n    user = null;\\n  \\n    constructor(){\\n\\n        if (this.user === null && localStorage.getItem('loggedUser')) {\\n\\n            this.user=(JSON.parse(localStorage.getItem('loggedUser')))\\n            axios.defaults.headers.common['loggeduser'] = localStorage.getItem('loggedUser')\\n          }\\n\\n    console.log(\\\"User in user service\\\",this.user);\\n    }\\n\\n    setUser = (user) => {\\n        this.user=user\\n    }\\n\\n    getAllUsers=()=>{\\n        return axios.get(\\\"http://127.0.0.1:3030/api/users\\\")\\n    }\\n\\n    getChats=()=>{\\n        return axios.get(\\\"http://127.0.0.1:3030/api/dialogs/\\\")\\n    }\\n\\n    findUsers=(text)=>{\\n        return axios.post(\\\"http://127.0.0.1:3030/api/users/find\\\",{pattern:text})\\n    }\\n    \\n\\n\\n\\n}\\n\\nexport default UserService\",\"import {axios} from '../components/App'\\n\\nclass ConvService {\\n\\n    openConversation=null;\\n  \\n    constructor(){\\n\\n    }\\n\\n    selectConversation=(conv)=>{\\n        this.openConversation=conv\\n    }\\n\\n    sendMessage=(msg,dialog)=>{\\n        let body={\\n            message:msg,\\n            dialog:dialog\\n        }\\n        //body contains the message itself and the chat id\\n        return axios.post(\\\"http://127.0.0.1:3030/api/dialogs\\\",body)\\n    }\\n    //gets chats for the specific user\\n    getChats=()=>{\\n        return axios.get(\\\"http://127.0.0.1:3030/api/dialogs/\\\")\\n    }\\n\\n    retrieveMessages=(chat)=>{\\n        return axios.get('http://127.0.0.1:3030/api/dialogs/'+chat)\\n    }\\n\\n    startChat=(user,startWith)=>{\\n        let body={\\n            loggeduser:user,\\n            startWithId:startWith\\n        }\\n        return axios.post('http://127.0.0.1:3030/api/dialogs/new',body)\\n    }\\n\\n    getlog=()=>{\\n        return axios.get('http://127.0.0.1:3030/api/eventlog')\\n    }\\n\\n    gethistory=()=>{\\n        return axios.get('http://127.0.0.1:3030/api/history')\\n    }\\n    getroomhistory=(room)=>{\\n        return axios.post('http://127.0.0.1:3030/api/roomhistory',{room:room})\\n    }\\n\\n    getallrooms=()=>{\\n        return axios.get('http://127.0.0.1:3030/api/rooms')\\n    }\\n\\n\\n    \\n\\n\\n\\n}\\n\\nexport default ConvService\",\"import React from 'react';\\nimport classNames from 'classnames';\\nimport PropTypes from 'prop-types';\\nimport { withStyles } from '@material-ui/core/styles';\\nimport Table from '@material-ui/core/Table';\\nimport TableBody from '@material-ui/core/TableBody';\\nimport TableCell from '@material-ui/core/TableCell';\\nimport TableHead from '@material-ui/core/TableHead';\\nimport TablePagination from '@material-ui/core/TablePagination';\\nimport TableRow from '@material-ui/core/TableRow';\\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\\nimport Toolbar from '@material-ui/core/Toolbar';\\nimport Typography from '@material-ui/core/Typography';\\nimport Paper from '@material-ui/core/Paper';\\nimport Checkbox from '@material-ui/core/Checkbox';\\nimport IconButton from '@material-ui/core/IconButton';\\nimport Tooltip from '@material-ui/core/Tooltip';\\nimport DeleteIcon from '@material-ui/icons/Delete';\\nimport FilterListIcon from '@material-ui/icons/FilterList';\\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\\nimport ConvService from '../../services/conv.service'\\n\\n\\nconst _=require('underscore')\\nfunction desc(a, b, orderBy) {\\n  if (b[orderBy] < a[orderBy]) {\\n    return -1;\\n  }\\n  if (b[orderBy] > a[orderBy]) {\\n    return 1;\\n  }\\n  return 0;\\n}\\n\\nfunction stableSort(array, cmp) {\\n\\n\\n  const stabilizedThis = array.map((el, index) => [el, index]);\\n  stabilizedThis.sort((a, b) => {\\n    const order = cmp(a[0], b[0]);\\n    if (order !== 0) return order;\\n    return a[1].id - b[1].id;\\n  });\\n  return stabilizedThis.map(el => el[0]);\\n}\\n\\nfunction getSorting(order, orderBy) {\\n  return order === 'desc' ? (a, b) => desc(a, b, orderBy) : (a, b) => -desc(a, b, orderBy);\\n}\\n\\n// const rows = [\\n//   { id: 'id', numeric: false, disablePadding: true, label: 'ID' },\\n//   { id: 'type', numeric: false, disablePadding: false, label: 'Type' },\\n//   { id: 'message', numeric: false, disablePadding: false, label: 'Message' },\\n//   { id: 'sender', numeric: false, disablePadding: false, label: 'Sender' },\\n//   { id: 'time', numeric: false, disablePadding: false, label: 'Timestamp' }\\n// ];\\n\\nfunction makeRows(keys){\\n    var a=keys.map(key=>{\\n        return {id:key,numeric:false,disablePadding:false,label:key.toUpperCase()} })\\n        a.unshift({id:\\\"id\\\",numeric:false,disablePadding:true,label:\\\"ID\\\"} )\\n        return a\\n}\\n\\nclass EnhancedTableHead extends React.Component {\\n  createSortHandler = property => event => {\\n    this.props.onRequestSort(event, property);\\n  };\\n\\n\\n  render() {\\n\\n    const { order, orderBy, numSelected, rowCount,rows } = this.props;\\n\\n    return (\\n      <TableHead>\\n        <TableRow>\\n\\n          {rows.map(\\n            row => (\\n                \\n              <TableCell\\n                key={row.id}\\n                align={row.numeric ? 'right' : 'left'}\\n                padding={row.disablePadding ? 'none' : 'default'}\\n                sortDirection={orderBy === row.id ? order : false}\\n              >\\n                <Tooltip\\n                  title=\\\"Sort\\\"\\n                  placement={row.numeric ? 'bottom-end' : 'bottom-start'}\\n                  enterDelay={300}\\n                >\\n                  <TableSortLabel\\n                    active={orderBy === row.id}\\n                    direction={order}\\n                    onClick={this.createSortHandler(row.id)}\\n                  >\\n                    {row.label}\\n                  </TableSortLabel>\\n                </Tooltip>\\n              </TableCell>\\n            ),\\n            this,\\n          )}\\n        </TableRow>\\n      </TableHead>\\n    );\\n  }\\n}\\n\\nEnhancedTableHead.propTypes = {\\n  order: PropTypes.string.isRequired,\\n  orderBy: PropTypes.string.isRequired,\\n  rowCount: PropTypes.number.isRequired,\\n};\\n\\nconst toolbarStyles = theme => ({\\n  root: {\\n    paddingRight: theme.spacing.unit,\\n  },\\n  highlight:\\n    theme.palette.type === 'light'\\n      ? {\\n          color: theme.palette.secondary.main,\\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\\n        }\\n      : {\\n          color: theme.palette.text.primary,\\n          backgroundColor: theme.palette.secondary.dark,\\n        },\\n  spacer: {\\n    flex: '1 1 100%',\\n  },\\n  actions: {\\n    color: theme.palette.text.secondary,\\n  },\\n  title: {\\n    flex: '0 0 auto',\\n  },\\n});\\n\\nlet EnhancedTableToolbar = props => {\\n  const { numSelected, classes } = props;\\n\\n  return (\\n    <Toolbar\\n      className={classNames(classes.root, {\\n        [classes.highlight]: numSelected > 0,\\n      })}\\n    >\\n      <div className={classes.title}>\\n        {numSelected > 0 ? (\\n          <Typography color=\\\"inherit\\\" variant=\\\"subtitle1\\\">\\n            {numSelected} selected\\n          </Typography>\\n        ) : (\\n          <Typography variant=\\\"h6\\\" id=\\\"tableTitle\\\">\\n            Nutrition\\n          </Typography>\\n        )}\\n      </div>\\n      <div className={classes.spacer} />\\n      <div className={classes.actions}>\\n        \\n          <Tooltip title=\\\"Filter list\\\">\\n            <IconButton aria-label=\\\"Filter list\\\">\\n              <FilterListIcon />\\n            </IconButton>\\n          </Tooltip>\\n        \\n      </div>\\n    </Toolbar>\\n  );\\n};\\n\\nEnhancedTableToolbar.propTypes = {\\n  classes: PropTypes.object.isRequired,\\n  numSelected: PropTypes.number.isRequired,\\n};\\n\\nEnhancedTableToolbar = withStyles(toolbarStyles)(EnhancedTableToolbar);\\n\\nconst styles = theme => ({\\n  root: {\\n    width: '100%',\\n    marginTop: theme.spacing.unit * 3,\\n  },\\n  table: {\\n    minWidth: 1020,\\n  },\\n  tableWrapper: {\\n    overflowX: 'auto',\\n  },\\n});\\n\\n\\n\\nclass EnhancedTable extends React.Component {\\n\\n constructor(props){\\n        super(props);\\n\\n\\n}\\n  state = {\\n    order: 'asc',\\n    orderBy: 'calories',\\n    selected: [],\\n    page: 0,\\n    rowsPerPage: 5,\\n    data:[]\\n  };\\n\\n  \\n\\n  componentWillMount(){\\n\\n  }\\n\\n  componentDidMount(){\\n  }\\n\\n  handleRequestSort = (event, property) => {\\n    const orderBy = property;\\n    let order = 'desc';\\n\\n    if (this.state.orderBy === property && this.state.order === 'desc') {\\n      order = 'asc';\\n    }\\n\\n    this.setState({ order, orderBy });\\n  };\\n\\n\\n\\n\\n\\n  handleChangePage = (event, page) => {\\n    this.setState({ page });\\n  };\\n\\n  handleChangeRowsPerPage = event => {\\n    this.setState({ rowsPerPage: event.target.value });\\n  };\\n\\n  isSelected = id => this.state.selected.indexOf(id) !== -1;\\n\\n  renderRow=(name,n,isSelected)=>{\\n\\n    switch(name){\\n        case \\\"log\\\": return(\\n            <TableRow\\n            hover \\n            role=\\\"checkbox\\\"\\n            aria-checked={isSelected}\\n            tabIndex={-1}\\n            key={n.id}\\n            selected={isSelected}\\n          >\\n           <TableCell component=\\\"th\\\" scope=\\\"row\\\" padding=\\\"none\\\">\\n              {n.id}\\n            </TableCell>\\n          <TableCell align=\\\"right\\\">{n.time}</TableCell>\\n          \\n            <TableCell align=\\\"right\\\">{n.type}</TableCell>\\n            <TableCell align=\\\"right\\\">{n.message}</TableCell>\\n            <TableCell align=\\\"right\\\">{n.sender}</TableCell>\\n           \\n            \\n            \\n          </TableRow>\\n        )\\n        case \\\"history\\\": return(\\n            <TableRow\\n            hover \\n            role=\\\"checkbox\\\"\\n            aria-checked={isSelected}\\n            tabIndex={-1}\\n            key={n.id}\\n            selected={isSelected}\\n          >\\n            <TableCell component=\\\"th\\\" scope=\\\"row\\\" padding=\\\"none\\\">\\n              {n._id}\\n            </TableCell>\\n          <TableCell align=\\\"right\\\">{n.text}</TableCell>\\n          <TableCell align=\\\"right\\\">{n.sender}</TableCell>\\n          <TableCell align=\\\"right\\\">{n.time}</TableCell>\\n          \\n            \\n            \\n            \\n            \\n          </TableRow>\\n        )\\n        case \\\"roomresult\\\": return(\\n            <TableRow\\n            hover \\n            role=\\\"checkbox\\\"\\n            aria-checked={isSelected}\\n            tabIndex={-1}\\n            key={n.id}\\n            selected={isSelected}\\n          >\\n            <TableCell component=\\\"th\\\" scope=\\\"row\\\" padding=\\\"none\\\">\\n              {n.id}\\n            </TableCell>\\n          <TableCell align=\\\"right\\\">{n.name}</TableCell>\\n          <TableCell align=\\\"right\\\">{n.lastMessage}</TableCell>\\n          <TableCell align=\\\"right\\\">{n['Date of Creation']}</TableCell>\\n          <TableCell align=\\\"right\\\">{n['Participants']}</TableCell>\\n          \\n            \\n            \\n            \\n            \\n          </TableRow>\\n        )\\n    }\\n\\n  }\\n\\n  render() {\\n    const { classes } = this.props;\\n    const {order, orderBy, selected, rowsPerPage, page } = this.state;\\n    console.log(this.props.data)\\n    const data = this.props.data?this.props.data.data:[{}]\\n    //console.log(data)\\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage);\\n\\n    \\n\\n    return (\\n      <Paper className={classes.root}>\\n        <div className={classes.tableWrapper}>\\n          <Table className={classes.table} aria-labelledby=\\\"tableTitle\\\">\\n            <EnhancedTableHead\\n              numSelected={selected.length}\\n              order={order}\\n              orderBy={orderBy}\\n              onRequestSort={this.handleRequestSort}\\n              rowCount={data.length}\\n              rows = {makeRows(_.without(Object.keys(data[0]),\\\"__v\\\",\\\"_id\\\",\\\"id\\\"))}\\n            />\\n            <TableBody>\\n              {stableSort(data, getSorting(order, orderBy))\\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\\n                .map(n => {\\n                  const isSelected = this.isSelected(n.id);\\n                  return (\\n                      this.renderRow(this.props.name,n,isSelected)\\n\\n                  );\\n                })}\\n              {emptyRows > 0 && (\\n                <TableRow style={{ height: 49 * emptyRows }}>\\n                  <TableCell colSpan={6} />\\n                </TableRow>\\n              )}\\n            </TableBody>\\n          </Table>\\n        </div>\\n        <TablePagination\\n          rowsPerPageOptions={[5, 10, 25]}\\n          component=\\\"div\\\"\\n          count={data.length}\\n          rowsPerPage={rowsPerPage}\\n          page={page}\\n          backIconButtonProps={{\\n            'aria-label': 'Previous Page',\\n          }}\\n          nextIconButtonProps={{\\n            'aria-label': 'Next Page',\\n          }}\\n          onChangePage={this.handleChangePage}\\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\\n        />\\n      </Paper>\\n    );\\n  }\\n}\\n\\nEnhancedTable.propTypes = {\\n  classes: PropTypes.object.isRequired,\\n};\\n\\nexport default withStyles(styles)(EnhancedTable);\",\"import React, { Component } from 'react';\\nimport ConvService from '../../services/conv.service'\\nimport EnhancedTable from './CustomTable'\\n\\nvar _conv=new ConvService();\\nconst _=require('underscore')\\n\\nclass Admin extends Component {\\n\\n  constructor(props){\\n    super(props);\\n    this.state={\\n      logresult:[],\\n      isloading:true\\n    }\\n\\n\\n  }\\n\\n\\n  componentDidMount(){\\n\\n    _conv.getlog()\\n    .then(resp=>{\\n      if(resp){\\n        this.setState({\\n          logresult:resp.data\\n        })\\n      }\\n    })\\n    .then(_=>{\\n      _conv.gethistory()\\n        .then(resp=>{\\n\\n          if(resp){\\n            this.setState({\\n              historyresult:resp.data\\n            })\\n          }\\n        })\\n    })\\n    .then(_=>{\\n      _conv.getallrooms()\\n        .then(resp=>{\\n          if(resp){\\n            this.setState({\\n              roomsresult:resp.data\\n            },()=>{\\n              \\n              this.setState({\\n                isloading:false\\n              })\\n            })\\n            }\\n          })\\n        })\\n     \\n  }\\n\\n  tables(){\\n    return(\\n      <div className=\\\"Admin\\\">\\n        <h2>Log</h2>\\n        \\n        <EnhancedTable data={this.state.logresult} name=\\\"log\\\"></EnhancedTable>\\n        <h2>Chat History</h2>\\n        <EnhancedTable data={this.state.historyresult} name=\\\"history\\\"></EnhancedTable>\\n        <h2>Rooms</h2>\\n        <EnhancedTable data={this.state.roomsresult} name=\\\"roomresult\\\"></EnhancedTable>\\n\\n\\n{/*        \\n        \\n         */}\\n      </div>\\n    )\\n  }\\n    \\n  \\n\\n  \\n\\n\\n\\n\\n  render(){\\n    console.log(this.state.logresult)\\n    console.log(this.state.historyresult)\\n    console.log(this.state.roomsresult)\\n    const isLoading = this.state.isloading?\\\"Still loading..\\\":this.tables()\\n    return(\\n      isLoading\\n    )\\n  }\\n\\n}\\n\\nexport default Admin\",\"import React, { Component } from 'react';\\nimport './App.css';\\nimport Login from './login/Login'\\nimport {BrowserRouter,Link,Route,Redirect,Switch} from 'react-router-dom';\\nimport Home from './home/Home';\\nimport Search from './search/Search'\\nimport Grid from '@material-ui/core/Grid';\\nimport UserService from '../services/user.service'\\nimport ConvService from '../services/conv.service'\\nimport Button from '@material-ui/core/Button';\\nimport openSocket from \\\"socket.io-client\\\"\\nimport io from 'socket.io-client';\\nimport PropTypes from 'prop-types';\\nimport { withStyles } from '@material-ui/core/styles';\\nimport Table from '@material-ui/core/Table';\\nimport TableBody from '@material-ui/core/TableBody';\\nimport TableCell from '@material-ui/core/TableCell';\\nimport TableHead from '@material-ui/core/TableHead';\\nimport TableRow from '@material-ui/core/TableRow';\\nimport Paper from '@material-ui/core/Paper';\\nimport Admin from './admin/Admin';\\nimport TableFooter from '@material-ui/core/TableFooter';\\nimport TablePagination from '@material-ui/core/TablePagination';\\nimport IconButton from '@material-ui/core/IconButton';\\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\\nimport LastPageIcon from '@material-ui/icons/LastPage';\\n\\n\\n\\n\\nvar  axios=require('axios')\\nvar _user=new UserService();\\nvar _conv=new ConvService();\\nvar socket=io('http://localhost:8000');\\n\\n\\n\\n\\n\\n\\n\\nclass App extends Component {\\n  \\n  constructor(props){\\n    super(props);\\n    this.state={\\n      loggeduser:JSON.parse(localStorage.getItem('loggedUser')),\\n      apiresult:null,\\n      roomapi:null\\n    }\\n\\n    this.handleLogoutClick=this.handleLogoutClick.bind(this)\\n    this.logout=this.logout.bind(this)\\n\\n\\n\\n    window.addEventListener('storage', event=>{\\n      if (event.key == 'logout-event') { \\n        this.logout()\\n      }\\n      else if(event.key=='loggedUser'){\\n        axios.defaults.headers.common['loggeduser'] = localStorage.getItem('loggedUser') // for all requests\\n        _user.setUser(JSON.parse(localStorage.getItem('loggedUser')));\\n        this.setState({loggeduser:JSON.parse(localStorage.getItem('loggedUser'))},()=>{\\n\\n          socket.connect()\\n        })\\n      }\\n  });\\n    \\n   \\n}\\n\\ncomponentWillMount(){\\n  if(localStorage.getItem('loggedUser')){\\n    socket.connect()\\n  }\\n}\\n\\n\\nhomeTemp=(user,chat)=>{\\n  return user?<Home user={user} chatSelected={chat}/>:this.loginEl();\\n}\\n\\n// api=(user)=>{\\n//   return !user?this.loginEl():\\n//   <div className=\\\"Api_calls\\\">\\n\\n//     <Button variant=\\\"contained\\\" color=\\\"primary\\\" className='menuBtn' onClick={this.getlog}> Get log</Button> <br/>\\n//     <Button variant=\\\"contained\\\" color=\\\"primary\\\" className='menuBtn' onClick={this.getallhistory}> Get All History</Button> <br/>\\n//     <input type='text' placeholder=\\\"room id\\\" onChange={(event)=>this.setState({roomapi:event.target.value})}></input>\\n//     <Button variant=\\\"contained\\\" color=\\\"primary\\\" className='menuBtn' onClick={this.getroomhistory}> Get Room History</Button> \\n\\n//     <div className=\\\"apiResult\\\">\\n//       {this.state.apiresult}\\n//     </div>\\n//   </div>\\n// }\\n\\n\\napi=(user)=>{\\n\\n  \\n  return (!user?this.loginEl():<Admin></Admin>)\\n}\\n\\ngetroomhistory=()=>{\\n  if(this.state.roomapi){\\n    _conv.getroomhistory(this.state.roomapi)\\n      .then(resp=>{\\n        console.log(resp.data.data)\\n        if(resp.data.success){\\n          this.setState({\\n            apiresult:JSON.stringify(resp.data.data)\\n          })\\n\\n        }\\n        else{\\n          this.setState({\\n            apiresult:'room not found'\\n          })\\n        }\\n      })\\n  }\\n  else{\\n    this.setState({\\n      apiresult:'room name is empty'\\n    })\\n  }\\n}\\n\\ngetallhistory=()=>{\\n  _conv.gethistory()\\n    .then(resp=>{\\n      this.setState({\\n        apiresult:JSON.stringify(resp.data)\\n      })\\n    })\\n}\\n\\ngetlog=()=>{\\n  _conv.getlog()\\n    .then(resp=>{\\n      this.setState({\\n        apiresult:JSON.stringify(resp.data)\\n      })\\n    })\\n}\\n\\nsearch=(user)=>{\\n  return user?<Search user={user}/>:this.loginEl();\\n}\\n\\n\\n\\nhandleLogoutClick=()=>{\\n\\n  localStorage.setItem('logout-event','logout'+Math.random())\\n  socket.close()\\n  this.logout()\\n \\n}\\n\\nlogout=()=>{\\n  _user.user=null;\\n  localStorage.removeItem('loggedUser');\\n  this.setState({\\n    loggeduser:null\\n  });\\n  axios.defaults.headers.common['loggeduser'] = null\\n  \\n}\\n\\nlogin=(user)=>{\\n  axios.defaults.headers.common['loggeduser'] = JSON.stringify(user) // for all requests\\n  _user.setUser(user);\\n  this.setState({loggeduser:user},()=>{\\n    socket.connect()\\n  });\\n  \\n}\\n\\nloginEl(){\\n  return(\\n  <Login login={(user)=>this.login(user)}/>\\n  )\\n}\\n\\n\\n  render() {\\n\\n    let button;\\n    if (this.state.loggeduser) {\\n      button =<Link to=\\\"/login\\\" className=\\\"buttonLink\\\"> <Button variant=\\\"contained\\\" color=\\\"primary\\\" className='menuBtn' onClick={this.handleLogoutClick} >\\n                  Logout\\n               </Button> \\n               </Link>\\n    } else {\\n      button =\\n                <Link to=\\\"/login\\\" className=\\\"buttonLink\\\"><Button variant=\\\"contained\\\" color=\\\"primary\\\" className='menuBtn'>Login</Button> </Link>\\n                \\n    }\\n\\n\\n    return (\\n  \\n      \\n      <div className=\\\"App\\\">\\n      \\n      <BrowserRouter>\\n     \\n      <div className=\\\"router\\\">\\n            <div className=\\\"menuVisual\\\">\\n            <Grid container spacing={0} className='menuContainer'>\\n\\n              <Grid item xs={12} sm={4} className='menuBtn'><Link to=\\\"/\\\"><Button variant=\\\"contained\\\" color=\\\"primary\\\" >Home</Button> </Link></Grid>\\n              <Grid item xs={12} sm={4} className='menuBtn'><Link to=\\\"/search\\\"><Button variant=\\\"contained\\\" color=\\\"primary\\\" >Find</Button> </Link></Grid>\\n              <Grid item xs={12} sm={4} className='menuBtn'><Link to=\\\"/api\\\"><Button variant=\\\"contained\\\" color=\\\"primary\\\" >API</Button> </Link></Grid>\\n              <Grid item xs={12} sm={4} className='menuBtn'>{button} </Grid>\\n\\n            </Grid>\\n\\n            </div>\\n\\n\\n\\n\\n                {/* Route for / condition on logged in and not logged in */}\\n              <Switch className=\\\"routeWindow\\\">\\n                <Route exact path=\\\"/\\\" render={()=>this.homeTemp(this.state.loggeduser)}/>\\n                <Route path=\\\"/login\\\" render={()=>this.homeTemp(this.state.loggeduser)}/>\\n                <Route path=\\\"/search\\\" render={()=>this.search(this.state.loggeduser)}/>\\n                <Route path=\\\"/api\\\" render={()=>this.api(this.state.loggeduser)}/>\\n                <Redirect from=\\\"/*\\\" to=\\\"/\\\" />\\n              \\n             </Switch>\\n        </div>\\n        </BrowserRouter>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport {App,axios,_user,_conv,socket}\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read http://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport {App} from './components/App';\\nimport * as serviceWorker from './serviceWorker';\\nimport 'bootstrap/dist/css/bootstrap.min.css';\\n\\nvar isLoggedIn=false;\\n//ReactDOM.render(<Header />,document.getElementById('header'))\\n\\nReactDOM.render(<App/>, document.getElementById('root'));\\n\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: http://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){},181:function(e,t,a){e.exports=a(413)},186:function(e,t,a){},188:function(e,t,a){},194:function(e,t){},196:function(e,t){},308:function(e,t){},314:function(e,t,a){},413:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(27),o=a.n(s),i=(a(186),a(10)),c=a(17),l=a(21),u=a(20),m=a(22),d=a(23),h=(a(188),a(190),function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:\"login\",value:function(e){return Re.post(\"http://127.0.0.1:3030/api/login\",e)}}]),e}()),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={uname:\"\",pass:\"\"},a.auth=new h,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"componentDidMount\",value:function(){}},{key:\"loginClick\",value:function(e){var t=this,a={email:this.state.uname,password:this.state.pass};this.auth.login(a).then(function(e){e.data.success?(console.log(e.data.docs),localStorage.setItem(\"loggedUser\",JSON.stringify(e.data.docs)),t.props.login(e.data.docs),console.log(\"User logged in\")):console.log(\"Credentials error\")})}},{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"Login\"},r.a.createElement(\"header\",{className:\"Login-header\"},\"Email:\",r.a.createElement(\"input\",{type:\"email\",required:!0,onChange:function(t){return e.setState({uname:t.target.value})}}),r.a.createElement(\"br\",null),\"Password:\",r.a.createElement(\"input\",{type:\"password\",required:!0,onChange:function(t){return e.setState({pass:t.target.value})}}),r.a.createElement(\"br\",null),r.a.createElement(\"button\",{onClick:function(t){return e.loginClick(t)}},\"Submit\")))}}]),t}(n.Component),p=a(424),f=a(427),v=a(428),y=a(429),b=a(426),E=a(30),C=a.n(E),O=a(91),k=a.n(O),S=a(90),j=a.n(S),w=a(172),N=a.n(w),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleclick=function(e,t){a.props.selectChat(t.id),a.setState({renderedChats:a.renderChats(t.id)})},a.state={chats:null,renderedChats:[],selectedChat:a.props.selectedChat},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"componentWillMount\",value:function(){var e=this;Ie.getChats().then(function(t){e.setState({chats:t.data.docs}),e.props.subscribeRooms(t.data.docs)}).then(function(t){e.setState({renderedChats:e.renderChats()})})}},{key:\"renderChats\",value:function(e){var t,a=this;return t=this.state.chats.map(function(t){return console.log(a.props.selectedChat),r.a.createElement(\"div\",{key:t.id,chat:t.id,className:e==t.id?\"selected\":\"not-selected\",onClick:function(e){return a.handleclick(e,t)}},r.a.createElement(j.a,{button:!0},r.a.createElement(N.a,{primary:t.name})))}),console.log(t),t}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"chatList\"},r.a.createElement(k.a,{component:\"nav\"},this.state.renderedChats))}}]),t}(n.Component),M=a(53),x=a.n(M),R=(a(143),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).sendClick=function(e){Ue.sendMessage(a.state.newMessage,a.props.selectedChat).then(function(e){a.setState({newMessage:\"\"})}).then(function(e){Be.emit(\"message\",{room:a.props.selectedChat,sender:a.props.user})})},a.typing=function(e){a.setState({newMessage:e.target.value}),Be.emit(\"typing\",{room:a.props.selectedChat,sender:a.props.user})},a.keyDown=function(e){13==e.keyCode&&a.sendClick(e)},a.state={newMessage:\"\",chatHistory:a.props.chatHistory,newmessages:[],newmessagetrigger:!0,isTyping:!1},a.renderHistory=a.renderHistory.bind(Object(d.a)(Object(d.a)(a))),Be.on(\"typing\",function(e){e.sender.id!==a.props.user.id&&(a.setState({isTyping:!0}),setTimeout(function(){a.setState({isTyping:!1})},8e3))}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"componentDidMount\",value:function(){}},{key:\"componentWillMount\",value:function(){}},{key:\"enterRoom\",value:function(){}},{key:\"renderHistory\",value:function(){var e=this,t=[];return this.props.chatHistory&&(t=this.props.chatHistory.slice().map(function(t){return r.a.createElement(\"div\",{className:t.sender?t.sender.id==e.props.user.id?\"myMessage\":\"theirMessage\":\"\",key:t._id},t.sender?t.sender.name:\"anonymous\",\":\",t.text)})),t.length?t:r.a.createElement(\"div\",{className:\"empty\"},\"This chat is empty\")}},{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"chatWindow wrap\"},r.a.createElement(\"ul\",{className:\"messageHistory\"},\"room is \",this.props.selectedChat,r.a.createElement(\"div\",null,this.renderHistory())),r.a.createElement(\"div\",{className:\"userTyping\"},this.state.isTyping?\"typing\":\"\"),r.a.createElement(\"div\",{className:\"inputBox\"},r.a.createElement(\"input\",{type:\"text\",value:this.state.newMessage,onChange:function(t){return e.typing(t)},onKeyDown:this.keyDown}),r.a.createElement(\"button\",{type:\"submit\",onClick:function(t){return e.sendClick(t)}},\"Send!\")))}}]),t}(n.Component)),I=a(67),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:a.props.user,selectedChat:null,chatHistory:null,newmessages:null,newmessagetrigger:!0},a.selectChat=a.selectChat.bind(Object(d.a)(Object(d.a)(a))),a.subscribeRooms=a.subscribeRooms.bind(Object(d.a)(Object(d.a)(a))),a.getMessages=a.getMessages.bind(Object(d.a)(Object(d.a)(a))),console.log(Be),Be.disconnected&&Be.connect(),console.log(Be.disconnected),Be.on(\"message\",function(e){a.state.selectedChat==e.room&&a.getMessages(e.room)}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"componentDidMount\",value:function(){this.props.chatSelected&&this.selectChat(this.props.chatSelected)}},{key:\"selectChat\",value:function(e){this.setState({selectedChat:e}),this.getMessages(e)}},{key:\"getMessages\",value:function(e){var t=this;Ue.retrieveMessages(e).then(function(e){t.setState({chatHistory:e.data.docs})})}},{key:\"subscribeRooms\",value:function(e){var t=this;I.pluck(e,\"id\").forEach(function(e){Be.emit(\"goOnline\",{sender:t.state.user.id,room:e})}),this.setState({rooms:e})}},{key:\"render\",value:function(){var e=this.state.selectedChat?r.a.createElement(C.a,{item:!0,xs:12,sm:9,className:\"wrap\"},r.a.createElement(R,{selectedChat:this.state.selectedChat,chatHistory:this.state.chatHistory,className:\"chatList\",user:this.props.user,newmessages:this.state.newmessages})):this.state.rooms&&this.state.rooms.length?r.a.createElement(\"div\",{className:\"noInfo\"},\"Select chat from the left \"):r.a.createElement(\"div\",{className:\"noInfo\"},\" You don't have any chats. Find a friend!\");return r.a.createElement(\"div\",{className:\"homeWrapper\"},r.a.createElement(C.a,{container:!0,spacing:0,className:\"wrap\"},r.a.createElement(C.a,{item:!0,xs:12,sm:3,className:\"chatList\"},r.a.createElement(P,{selectChat:this.selectChat,selectedChat:this.state.selectedChat,subscribeRooms:this.subscribeRooms})),e))}}]),t}(n.Component),B=(a(314),a(425)),H=a(421),L=a(422),W=a(423),T=a(178),D=a(67),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).search=function(e){Ie.findUsers(e.target.value).then(function(t){0!==t.data.docs.length&&e?a.setState({searchResults:r.a.createElement(\"div\",null,a.generate(t.data.docs))}):a.setState({searchResults:r.a.createElement(\"div\",{className:\"notFound\"},\"No Users Found :(\")})})},a.state={searchResults:null},a.results=null,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"startConversation\",value:function(e){Ue.startChat(Ie.user,e).then(function(e){e.data.success&&Be.emit(\"newChat\",{name:e.data.docs.name,sender:Ie.user})})}},{key:\"generate\",value:function(e){var t=this;return D.map(e,function(e,a){return r.a.createElement(H.a,{key:a},r.a.createElement(L.a,null,e.name),r.a.createElement(L.a,null,r.a.createElement(B.a,{color:\"secondary\",onClick:function(){return t.startConversation(e.id)}},r.a.createElement(T.a,null))))})}},{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"searchWrap\"},r.a.createElement(\"input\",{type:\"text\",onChange:function(t){\"\"!==t.target.value&&e.search(t)}}),r.a.createElement(\"div\",{className:\"searchResults\"},r.a.createElement(W.a,null,this.state.searchResults)))}}]),t}(n.Component),q=function e(){var t=this;Object(i.a)(this,e),this.user=null,this.setUser=function(e){t.user=e},this.getAllUsers=function(){return Re.get(\"http://127.0.0.1:3030/api/users\")},this.getChats=function(){return Re.get(\"http://127.0.0.1:3030/api/dialogs/\")},this.findUsers=function(e){return Re.post(\"http://127.0.0.1:3030/api/users/find\",{pattern:e})},null===this.user&&localStorage.getItem(\"loggedUser\")&&(this.user=JSON.parse(localStorage.getItem(\"loggedUser\")),Re.defaults.headers.common.loggeduser=localStorage.getItem(\"loggedUser\")),console.log(\"User in user service\",this.user)},F=function e(){var t=this;Object(i.a)(this,e),this.openConversation=null,this.selectConversation=function(e){t.openConversation=e},this.sendMessage=function(e,t){var a={message:e,dialog:t};return Re.post(\"http://127.0.0.1:3030/api/dialogs\",a)},this.getChats=function(){return Re.get(\"http://127.0.0.1:3030/api/dialogs/\")},this.retrieveMessages=function(e){return Re.get(\"http://127.0.0.1:3030/api/dialogs/\"+e)},this.startChat=function(e,t){var a={loggeduser:e,startWithId:t};return Re.post(\"http://127.0.0.1:3030/api/dialogs/new\",a)},this.getlog=function(){return Re.get(\"http://127.0.0.1:3030/api/eventlog\")},this.gethistory=function(){return Re.get(\"http://127.0.0.1:3030/api/history\")},this.getroomhistory=function(e){return Re.post(\"http://127.0.0.1:3030/api/roomhistory\",{room:e})},this.getallrooms=function(){return Re.get(\"http://127.0.0.1:3030/api/rooms\")}},A=a(45),_=a.n(A),K=a(175),V=a(5),X=a.n(V),Y=a(72),$=a(94),z=a.n($),G=a(95),Q=a.n(G),Z=a(18),ee=a.n(Z),te=a(92),ae=a.n(te),ne=a(96),re=a.n(ne),se=a(38),oe=a.n(se),ie=a(176),ce=a.n(ie),le=a(93),ue=a.n(le),me=a(54),de=a.n(me),he=a(71),ge=a.n(he),pe=a(70),fe=a.n(pe),ve=a(97),ye=a.n(ve),be=a(177),Ee=a.n(be),Ce=a(44),Oe=a(67);function ke(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function Se(e){var t=e.map(function(e){return{id:e,numeric:!1,disablePadding:!1,label:e.toUpperCase()}});return t.unshift({id:\"id\",numeric:!1,disablePadding:!0,label:\"ID\"}),t}var je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){var e=this,t=this.props,a=t.order,n=t.orderBy,s=(t.numSelected,t.rowCount,t.rows);return r.a.createElement(ae.a,null,r.a.createElement(oe.a,null,s.map(function(t){return r.a.createElement(ee.a,{key:t.id,align:t.numeric?\"right\":\"left\",padding:t.disablePadding?\"none\":\"default\",sortDirection:n===t.id&&a},r.a.createElement(ye.a,{title:\"Sort\",placement:t.numeric?\"bottom-end\":\"bottom-start\",enterDelay:300},r.a.createElement(ce.a,{active:n===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component),we=function(e){var t=e.numSelected,a=e.classes;return r.a.createElement(ue.a,{className:X()(a.root,Object(K.a)({},a.highlight,t>0))},r.a.createElement(\"div\",{className:a.title},t>0?r.a.createElement(de.a,{color:\"inherit\",variant:\"subtitle1\"},t,\" selected\"):r.a.createElement(de.a,{variant:\"h6\",id:\"tableTitle\"},\"Nutrition\")),r.a.createElement(\"div\",{className:a.spacer}),r.a.createElement(\"div\",{className:a.actions},r.a.createElement(ye.a,{title:\"Filter list\"},r.a.createElement(fe.a,{\"aria-label\":\"Filter list\"},r.a.createElement(Ee.a,null)))))};we=Object(Y.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:\"light\"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ce.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:\"1 1 100%\"},actions:{color:e.palette.text.secondary},title:{flex:\"0 0 auto\"}}})(we);var Ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={order:\"asc\",orderBy:\"calories\",selected:[],page:0,rowsPerPage:5,data:[]},a.handleRequestSort=function(e,t){var n=t,r=\"desc\";a.state.orderBy===t&&\"desc\"===a.state.order&&(r=\"asc\"),a.setState({order:r,orderBy:n})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.renderRow=function(e,t,a){switch(e){case\"log\":return r.a.createElement(oe.a,{hover:!0,role:\"checkbox\",\"aria-checked\":a,tabIndex:-1,key:t.id,selected:a},r.a.createElement(ee.a,{component:\"th\",scope:\"row\",padding:\"none\"},t.id),r.a.createElement(ee.a,{align:\"right\"},t.time),r.a.createElement(ee.a,{align:\"right\"},t.type),r.a.createElement(ee.a,{align:\"right\"},t.message),r.a.createElement(ee.a,{align:\"right\"},t.sender));case\"history\":return r.a.createElement(oe.a,{hover:!0,role:\"checkbox\",\"aria-checked\":a,tabIndex:-1,key:t.id,selected:a},r.a.createElement(ee.a,{component:\"th\",scope:\"row\",padding:\"none\"},t._id),r.a.createElement(ee.a,{align:\"right\"},t.text),r.a.createElement(ee.a,{align:\"right\"},t.sender),r.a.createElement(ee.a,{align:\"right\"},t.time));case\"roomresult\":return r.a.createElement(oe.a,{hover:!0,role:\"checkbox\",\"aria-checked\":a,tabIndex:-1,key:t.id,selected:a},r.a.createElement(ee.a,{component:\"th\",scope:\"row\",padding:\"none\"},t.id),r.a.createElement(ee.a,{align:\"right\"},t.name),r.a.createElement(ee.a,{align:\"right\"},t.lastMessage),r.a.createElement(ee.a,{align:\"right\"},t[\"Date of Creation\"]),r.a.createElement(ee.a,{align:\"right\"},t.Participants))}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"componentWillMount\",value:function(){}},{key:\"componentDidMount\",value:function(){}},{key:\"render\",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.order,s=a.orderBy,o=a.selected,i=a.rowsPerPage,c=a.page;console.log(this.props.data);var l=this.props.data?this.props.data.data:[{}],u=i-Math.min(i,l.length-c*i);return r.a.createElement(ge.a,{className:t.root},r.a.createElement(\"div\",{className:t.tableWrapper},r.a.createElement(z.a,{className:t.table,\"aria-labelledby\":\"tableTitle\"},r.a.createElement(je,{numSelected:o.length,order:n,orderBy:s,onRequestSort:this.handleRequestSort,rowCount:l.length,rows:Se(Oe.without(Object.keys(l[0]),\"__v\",\"_id\",\"id\"))}),r.a.createElement(Q.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1].id-a[1].id}),a.map(function(e){return e[0]})}(l,function(e,t){return\"desc\"===e?function(e,a){return ke(e,a,t)}:function(e,a){return-ke(e,a,t)}}(n,s)).slice(c*i,c*i+i).map(function(t){var a=e.isSelected(t.id);return e.renderRow(e.props.name,t,a)}),u>0&&r.a.createElement(oe.a,{style:{height:49*u}},r.a.createElement(ee.a,{colSpan:6}))))),r.a.createElement(re.a,{rowsPerPageOptions:[5,10,25],component:\"div\",count:l.length,rowsPerPage:i,page:c,backIconButtonProps:{\"aria-label\":\"Previous Page\"},nextIconButtonProps:{\"aria-label\":\"Next Page\"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),Pe=Object(Y.withStyles)(function(e){return{root:{width:\"100%\",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:\"auto\"}}})(Ne),Me=new F,xe=(a(67),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={logresult:[],isloading:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"componentDidMount\",value:function(){var e=this;Me.getlog().then(function(t){t&&e.setState({logresult:t.data})}).then(function(t){Me.gethistory().then(function(t){t&&e.setState({historyresult:t.data})})}).then(function(t){Me.getallrooms().then(function(t){t&&e.setState({roomsresult:t.data},function(){e.setState({isloading:!1})})})})}},{key:\"tables\",value:function(){return r.a.createElement(\"div\",{className:\"Admin\"},r.a.createElement(\"h2\",null,\"Log\"),r.a.createElement(Pe,{data:this.state.logresult,name:\"log\"}),r.a.createElement(\"h2\",null,\"Chat History\"),r.a.createElement(Pe,{data:this.state.historyresult,name:\"history\"}),r.a.createElement(\"h2\",null,\"Rooms\"),r.a.createElement(Pe,{data:this.state.roomsresult,name:\"roomresult\"}))}},{key:\"render\",value:function(){return console.log(this.state.logresult),console.log(this.state.historyresult),console.log(this.state.roomsresult),this.state.isloading?\"Still loading..\":this.tables()}}]),t}(n.Component)),Re=a(390),Ie=new q,Ue=new F,Be=x()(\"http://localhost:8000\"),He=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).homeTemp=function(e,t){return e?r.a.createElement(U,{user:e,chatSelected:t}):a.loginEl()},a.api=function(e){return e?r.a.createElement(xe,null):a.loginEl()},a.getroomhistory=function(){a.state.roomapi?Ue.getroomhistory(a.state.roomapi).then(function(e){console.log(e.data.data),e.data.success?a.setState({apiresult:JSON.stringify(e.data.data)}):a.setState({apiresult:\"room not found\"})}):a.setState({apiresult:\"room name is empty\"})},a.getallhistory=function(){Ue.gethistory().then(function(e){a.setState({apiresult:JSON.stringify(e.data)})})},a.getlog=function(){Ue.getlog().then(function(e){a.setState({apiresult:JSON.stringify(e.data)})})},a.search=function(e){return e?r.a.createElement(J,{user:e}):a.loginEl()},a.handleLogoutClick=function(){localStorage.setItem(\"logout-event\",\"logout\"+Math.random()),Be.close(),a.logout()},a.logout=function(){Ie.user=null,localStorage.removeItem(\"loggedUser\"),a.setState({loggeduser:null}),Re.defaults.headers.common.loggeduser=null},a.login=function(e){Re.defaults.headers.common.loggeduser=JSON.stringify(e),Ie.setUser(e),a.setState({loggeduser:e},function(){Be.connect()})},a.state={loggeduser:JSON.parse(localStorage.getItem(\"loggedUser\")),apiresult:null,roomapi:null},a.handleLogoutClick=a.handleLogoutClick.bind(Object(d.a)(Object(d.a)(a))),a.logout=a.logout.bind(Object(d.a)(Object(d.a)(a))),window.addEventListener(\"storage\",function(e){\"logout-event\"==e.key?a.logout():\"loggedUser\"==e.key&&(Re.defaults.headers.common.loggeduser=localStorage.getItem(\"loggedUser\"),Ie.setUser(JSON.parse(localStorage.getItem(\"loggedUser\"))),a.setState({loggeduser:JSON.parse(localStorage.getItem(\"loggedUser\"))},function(){Be.connect()}))}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:\"componentWillMount\",value:function(){localStorage.getItem(\"loggedUser\")&&Be.connect()}},{key:\"loginEl\",value:function(){var e=this;return r.a.createElement(g,{login:function(t){return e.login(t)}})}},{key:\"render\",value:function(){var e,t=this;return e=this.state.loggeduser?r.a.createElement(p.a,{to:\"/login\",className:\"buttonLink\"},\" \",r.a.createElement(_.a,{variant:\"contained\",color:\"primary\",className:\"menuBtn\",onClick:this.handleLogoutClick},\"Logout\")):r.a.createElement(p.a,{to:\"/login\",className:\"buttonLink\"},r.a.createElement(_.a,{variant:\"contained\",color:\"primary\",className:\"menuBtn\"},\"Login\"),\" \"),r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(f.a,null,r.a.createElement(\"div\",{className:\"router\"},r.a.createElement(\"div\",{className:\"menuVisual\"},r.a.createElement(C.a,{container:!0,spacing:0,className:\"menuContainer\"},r.a.createElement(C.a,{item:!0,xs:12,sm:4,className:\"menuBtn\"},r.a.createElement(p.a,{to:\"/\"},r.a.createElement(_.a,{variant:\"contained\",color:\"primary\"},\"Home\"),\" \")),r.a.createElement(C.a,{item:!0,xs:12,sm:4,className:\"menuBtn\"},r.a.createElement(p.a,{to:\"/search\"},r.a.createElement(_.a,{variant:\"contained\",color:\"primary\"},\"Find\"),\" \")),r.a.createElement(C.a,{item:!0,xs:12,sm:4,className:\"menuBtn\"},r.a.createElement(p.a,{to:\"/api\"},r.a.createElement(_.a,{variant:\"contained\",color:\"primary\"},\"API\"),\" \")),r.a.createElement(C.a,{item:!0,xs:12,sm:4,className:\"menuBtn\"},e,\" \"))),r.a.createElement(v.a,{className:\"routeWindow\"},r.a.createElement(y.a,{exact:!0,path:\"/\",render:function(){return t.homeTemp(t.state.loggeduser)}}),r.a.createElement(y.a,{path:\"/login\",render:function(){return t.homeTemp(t.state.loggeduser)}}),r.a.createElement(y.a,{path:\"/search\",render:function(){return t.search(t.state.loggeduser)}}),r.a.createElement(y.a,{path:\"/api\",render:function(){return t.api(t.state.loggeduser)}}),r.a.createElement(b.a,{from:\"/*\",to:\"/\"})))))}}]),t}(n.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(411);o.a.render(r.a.createElement(He,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[181,2,1]]]);","extractedComments":[]}